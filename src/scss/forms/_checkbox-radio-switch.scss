@use "sass:map";
@use "../settings" as *;

@if map.get($modules, "forms/checkbox-radio-switch") {
  /**
   * Checkboxes, Radios and Switches
   */

  // Labels
  // Not working in Firefox, which doesn't support the `:has()` pseudo-class
  label {
    &:has([type="checkbox"], [type="radio"]) {
      width: fit-content;
      cursor: pointer;
    }
  }

  [type="checkbox"],
  [type="radio"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 1.25em;
    height: 1.25em;
    margin-top: -0.125em;
    margin-inline-end: 0.5em;
    border-width: var(#{$✨}border-width);
    vertical-align: middle;
    cursor: pointer;

    &::-ms-check {
      display: none; // unstyle IE checkboxes
    }

    &:checked,
    &:checked:active,
    &:checked:focus {
      #{$✨}background-color: var(#{$✨}primary-background);
      #{$✨}border-color: var(#{$✨}primary-border);
      background-image: var(#{$✨}icon-checkbox);
      background-position: center;
      background-size: 0.75em auto;
      background-repeat: no-repeat;
    }

    & ~ label {
      display: inline-block;
      margin-bottom: 0;
      cursor: pointer;

      &:not(:last-of-type) {
        margin-inline-end: 1em;
      }
    }
  }

  // Checkboxes
  [type="checkbox"] {
    &:indeterminate {
      #{$✨}background-color: var(#{$✨}primary-background);
      #{$✨}border-color: var(#{$✨}primary-border);
      background-image: var(#{$✨}icon-minus);
      background-position: center;
      background-size: 0.75em auto;
      background-repeat: no-repeat;
    }
  }

  // Radios
  [type="radio"] {
    border-radius: 50%;

    &:checked,
    &:checked:active,
    &:checked:focus {
      #{$✨}background-color: var(#{$✨}primary-inverse);
      border-width: 0.35em;
      background-image: none;
    }
  }

  // Switchs
  [type="checkbox"][role="switch"] {
    #{$✨}background-color: var(#{$✨}switch-background-color);
    #{$✨}color: var(#{$✨}switch-color);

    // Config
    $switch-height: 1.25em;
    $switch-width: 2.25em;
    $switch-transition: 0.1s ease-in-out;

    // Styles
    width: $switch-width;
    height: $switch-height;
    border: var(#{$✨}border-width) solid var(#{$✨}border-color);
    border-radius: $switch-height;
    background-color: var(#{$✨}background-color);
    line-height: $switch-height;

    &:not([aria-invalid]) {
      #{$✨}border-color: var(#{$✨}switch-background-color);
    }

    &:before {
      display: block;
      width: calc(#{$switch-height} - (var(#{$✨}border-width) * 2));
      height: 100%;
      border-radius: 50%;
      background-color: var(#{$✨}color);
      content: "";

      @if $enable-transitions {
        transition: margin $switch-transition;
      }
    }

    &:focus {
      #{$✨}background-color: var(#{$✨}switch-background-color);
      #{$✨}border-color: var(#{$✨}switch-background-color);
    }

    &:checked {
      #{$✨}background-color: var(#{$✨}switch-checked-background-color);
      #{$✨}border-color: var(#{$✨}switch-checked-background-color);
      background-image: none;

      &::before {
        margin-inline-start: calc(
          #{$switch-width * 0.5} - var(#{$✨}border-width)
        );
      }
    }

    &[disabled] {
      #{$✨}background-color: var(#{$✨}border-color);
    }
  }

  // Aria-invalid
  [type="checkbox"],
  [type="checkbox"][role="switch"] {
    &[aria-invalid="false"] {
      &:checked,
      &:checked:active,
      &:checked:focus {
        #{$✨}background-color: var(#{$✨}form-element-valid-border-color);
      }
    }
    &:checked,
    &:checked:active,
    &:checked:focus {
      &[aria-invalid="true"] {
        #{$✨}background-color: var(#{$✨}form-element-invalid-border-color);
      }
    }
  }

  [type="checkbox"],
  [type="radio"],
  [type="checkbox"][role="switch"] {
    &[aria-invalid="false"] {
      &:checked,
      &:checked:active,
      &:checked:focus {
        #{$✨}border-color: var(#{$✨}form-element-valid-border-color);
      }
    }
    &:checked,
    &:checked:active,
    &:checked:focus {
      &[aria-invalid="true"] {
        #{$✨}border-color: var(#{$✨}form-element-invalid-border-color);
      }
    }
  }
}

/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jaGVja2JveC1yYWRpby1zd2l0Y2guc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJfY2hlY2tib3gtcmFkaW8tc3dpdGNoLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAdXNlIFwic2FzczptYXBcIjtcbkB1c2UgXCIuLi9zZXR0aW5nc1wiIGFzICo7XG5cbkBpZiBtYXAuZ2V0KCRtb2R1bGVzLCBcImZvcm1zL2NoZWNrYm94LXJhZGlvLXN3aXRjaFwiKSB7XG4gIC8qKlxuICAgKiBDaGVja2JveGVzLCBSYWRpb3MgYW5kIFN3aXRjaGVzXG4gICAqL1xuXG4gIC8vIExhYmVsc1xuICAvLyBOb3Qgd29ya2luZyBpbiBGaXJlZm94LCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgdGhlIGA6aGFzKClgIHBzZXVkby1jbGFzc1xuICBsYWJlbCB7XG4gICAgJjpoYXMoW3R5cGU9XCJjaGVja2JveFwiXSwgW3R5cGU9XCJyYWRpb1wiXSkge1xuICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgfVxuXG4gIFt0eXBlPVwiY2hlY2tib3hcIl0sXG4gIFt0eXBlPVwicmFkaW9cIl0ge1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG4gICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgICB3aWR0aDogMS4yNWVtO1xuICAgIGhlaWdodDogMS4yNWVtO1xuICAgIG1hcmdpbi10b3A6IC0wLjEyNWVtO1xuICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwLjVlbTtcbiAgICBib3JkZXItd2lkdGg6IHZhcigjeyTinKh9Ym9yZGVyLXdpZHRoKTtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcblxuICAgICY6Oi1tcy1jaGVjayB7XG4gICAgICBkaXNwbGF5OiBub25lOyAvLyB1bnN0eWxlIElFIGNoZWNrYm94ZXNcbiAgICB9XG5cbiAgICAmOmNoZWNrZWQsXG4gICAgJjpjaGVja2VkOmFjdGl2ZSxcbiAgICAmOmNoZWNrZWQ6Zm9jdXMge1xuICAgICAgI3sk4pyofWJhY2tncm91bmQtY29sb3I6IHZhcigjeyTinKh9cHJpbWFyeS1iYWNrZ3JvdW5kKTtcbiAgICAgICN7JOKcqH1ib3JkZXItY29sb3I6IHZhcigjeyTinKh9cHJpbWFyeS1ib3JkZXIpO1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdmFyKCN7JOKcqH1pY29uLWNoZWNrYm94KTtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMC43NWVtIGF1dG87XG4gICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIH1cblxuICAgICYgfiBsYWJlbCB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgICAmOm5vdCg6bGFzdC1vZi10eXBlKSB7XG4gICAgICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAxZW07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2tib3hlc1xuICBbdHlwZT1cImNoZWNrYm94XCJdIHtcbiAgICAmOmluZGV0ZXJtaW5hdGUge1xuICAgICAgI3sk4pyofWJhY2tncm91bmQtY29sb3I6IHZhcigjeyTinKh9cHJpbWFyeS1iYWNrZ3JvdW5kKTtcbiAgICAgICN7JOKcqH1ib3JkZXItY29sb3I6IHZhcigjeyTinKh9cHJpbWFyeS1ib3JkZXIpO1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdmFyKCN7JOKcqH1pY29uLW1pbnVzKTtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMC43NWVtIGF1dG87XG4gICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIH1cbiAgfVxuXG4gIC8vIFJhZGlvc1xuICBbdHlwZT1cInJhZGlvXCJdIHtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG5cbiAgICAmOmNoZWNrZWQsXG4gICAgJjpjaGVja2VkOmFjdGl2ZSxcbiAgICAmOmNoZWNrZWQ6Zm9jdXMge1xuICAgICAgI3sk4pyofWJhY2tncm91bmQtY29sb3I6IHZhcigjeyTinKh9cHJpbWFyeS1pbnZlcnNlKTtcbiAgICAgIGJvcmRlci13aWR0aDogMC4zNWVtO1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcbiAgICB9XG4gIH1cblxuICAvLyBTd2l0Y2hzXG4gIFt0eXBlPVwiY2hlY2tib3hcIl1bcm9sZT1cInN3aXRjaFwiXSB7XG4gICAgI3sk4pyofWJhY2tncm91bmQtY29sb3I6IHZhcigjeyTinKh9c3dpdGNoLWJhY2tncm91bmQtY29sb3IpO1xuICAgICN7JOKcqH1jb2xvcjogdmFyKCN7JOKcqH1zd2l0Y2gtY29sb3IpO1xuXG4gICAgLy8gQ29uZmlnXG4gICAgJHN3aXRjaC1oZWlnaHQ6IDEuMjVlbTtcbiAgICAkc3dpdGNoLXdpZHRoOiAyLjI1ZW07XG4gICAgJHN3aXRjaC10cmFuc2l0aW9uOiAwLjFzIGVhc2UtaW4tb3V0O1xuXG4gICAgLy8gU3R5bGVzXG4gICAgd2lkdGg6ICRzd2l0Y2gtd2lkdGg7XG4gICAgaGVpZ2h0OiAkc3dpdGNoLWhlaWdodDtcbiAgICBib3JkZXI6IHZhcigjeyTinKh9Ym9yZGVyLXdpZHRoKSBzb2xpZCB2YXIoI3sk4pyofWJvcmRlci1jb2xvcik7XG4gICAgYm9yZGVyLXJhZGl1czogJHN3aXRjaC1oZWlnaHQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKCN7JOKcqH1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICBsaW5lLWhlaWdodDogJHN3aXRjaC1oZWlnaHQ7XG5cbiAgICAmOm5vdChbYXJpYS1pbnZhbGlkXSkge1xuICAgICAgI3sk4pyofWJvcmRlci1jb2xvcjogdmFyKCN7JOKcqH1zd2l0Y2gtYmFja2dyb3VuZC1jb2xvcik7XG4gICAgfVxuXG4gICAgJjpiZWZvcmUge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB3aWR0aDogY2FsYygjeyRzd2l0Y2gtaGVpZ2h0fSAtICh2YXIoI3sk4pyofWJvcmRlci13aWR0aCkgKiAyKSk7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoI3sk4pyofWNvbG9yKTtcbiAgICAgIGNvbnRlbnQ6IFwiXCI7XG5cbiAgICAgIEBpZiAkZW5hYmxlLXRyYW5zaXRpb25zIHtcbiAgICAgICAgdHJhbnNpdGlvbjogbWFyZ2luICRzd2l0Y2gtdHJhbnNpdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmOmZvY3VzIHtcbiAgICAgICN7JOKcqH1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoI3sk4pyofXN3aXRjaC1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICN7JOKcqH1ib3JkZXItY29sb3I6IHZhcigjeyTinKh9c3dpdGNoLWJhY2tncm91bmQtY29sb3IpO1xuICAgIH1cblxuICAgICY6Y2hlY2tlZCB7XG4gICAgICAjeyTinKh9YmFja2dyb3VuZC1jb2xvcjogdmFyKCN7JOKcqH1zd2l0Y2gtY2hlY2tlZC1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICN7JOKcqH1ib3JkZXItY29sb3I6IHZhcigjeyTinKh9c3dpdGNoLWNoZWNrZWQtYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xuXG4gICAgICAmOjpiZWZvcmUge1xuICAgICAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiBjYWxjKFxuICAgICAgICAgICN7JHN3aXRjaC13aWR0aCAqIDAuNX0gLSB2YXIoI3sk4pyofWJvcmRlci13aWR0aClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmW2Rpc2FibGVkXSB7XG4gICAgICAjeyTinKh9YmFja2dyb3VuZC1jb2xvcjogdmFyKCN7JOKcqH1ib3JkZXItY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFyaWEtaW52YWxpZFxuICBbdHlwZT1cImNoZWNrYm94XCJdLFxuICBbdHlwZT1cImNoZWNrYm94XCJdW3JvbGU9XCJzd2l0Y2hcIl0ge1xuICAgICZbYXJpYS1pbnZhbGlkPVwiZmFsc2VcIl0ge1xuICAgICAgJjpjaGVja2VkLFxuICAgICAgJjpjaGVja2VkOmFjdGl2ZSxcbiAgICAgICY6Y2hlY2tlZDpmb2N1cyB7XG4gICAgICAgICN7JOKcqH1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoI3sk4pyofWZvcm0tZWxlbWVudC12YWxpZC1ib3JkZXItY29sb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICAmOmNoZWNrZWQsXG4gICAgJjpjaGVja2VkOmFjdGl2ZSxcbiAgICAmOmNoZWNrZWQ6Zm9jdXMge1xuICAgICAgJlthcmlhLWludmFsaWQ9XCJ0cnVlXCJdIHtcbiAgICAgICAgI3sk4pyofWJhY2tncm91bmQtY29sb3I6IHZhcigjeyTinKh9Zm9ybS1lbGVtZW50LWludmFsaWQtYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBbdHlwZT1cImNoZWNrYm94XCJdLFxuICBbdHlwZT1cInJhZGlvXCJdLFxuICBbdHlwZT1cImNoZWNrYm94XCJdW3JvbGU9XCJzd2l0Y2hcIl0ge1xuICAgICZbYXJpYS1pbnZhbGlkPVwiZmFsc2VcIl0ge1xuICAgICAgJjpjaGVja2VkLFxuICAgICAgJjpjaGVja2VkOmFjdGl2ZSxcbiAgICAgICY6Y2hlY2tlZDpmb2N1cyB7XG4gICAgICAgICN7JOKcqH1ib3JkZXItY29sb3I6IHZhcigjeyTinKh9Zm9ybS1lbGVtZW50LXZhbGlkLWJvcmRlci1jb2xvcik7XG4gICAgICB9XG4gICAgfVxuICAgICY6Y2hlY2tlZCxcbiAgICAmOmNoZWNrZWQ6YWN0aXZlLFxuICAgICY6Y2hlY2tlZDpmb2N1cyB7XG4gICAgICAmW2FyaWEtaW52YWxpZD1cInRydWVcIl0ge1xuICAgICAgICAjeyTinKh9Ym9yZGVyLWNvbG9yOiB2YXIoI3sk4pyofWZvcm0tZWxlbWVudC1pbnZhbGlkLWJvcmRlci1jb2xvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbiJdfQ== */
